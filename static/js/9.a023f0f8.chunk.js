(this["webpackJsonpsocial-connections"]=this["webpackJsonpsocial-connections"]||[]).push([[9],{1670:function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return h}));var c=t(48),i=t(84),r=t(0),o=t(7),d=t(36),a=t(1677),s=t(1666),l=t(1679),u=t(1678),j=t(86),f=t(1703),b=t(133),p=t(2);function h(){var e=Object(o.i)().relation,n=Object(f.a)(),t=n.connections,d=n.relations,h=Object(r.useState)({}),g=Object(i.a)(h,2),m=g[0],I=g[1],v=Object(r.useState)({}),w=Object(i.a)(v,2),N=w[0],A=w[1],P=Object(r.useState)({idsArr:[],done:!1}),k=Object(i.a)(P,2),y=k[0],E=k[1],F=Object(o.g)();return Object(r.useEffect)((function(){var n=e.includes("-")?Number(e.split("-")[0]):-1,i=e.includes("-")?Number(e.split("-")[1]):-1,r=t.find((function(e){return e.id===n})),o=t.find((function(e){return e.id===i}));r&&o?(I(r),A(o),E(function e(n,t,i){var r=[n],o=[];return i.forEach((function(d){if((d.peopleId===n||d.connectedPeopleId===n)&&n!==t)if(d.connectedPeopleId===t||d.peopleId===t)r.push(t),r.length>1&&o.push([].concat(r)),r.splice(1,r.length-1);else{var a=e(d.peopleId===n?d.connectedPeopleId:d.peopleId,t,i.filter((function(e){return!(e.peopleId===n||e.connectedPeopleId===n)})));a.idsArr.length>0&&a.idsArr.forEach((function(e){o.some((function(n){return[].concat(r,Object(c.a)(e)).length===n.length&&n.every((function(n){return[].concat(r,Object(c.a)(e)).includes(n)}))}))||o.push([].concat(r,Object(c.a)(e)))}))}})),{idsArr:o,done:!0}}(r.id,o.id,d))):(j.b.warning("Unable to find person"),F.push("/relationship"))}),[e]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(a.a,{attached:"top",children:Object(p.jsxs)(a.a.Item,{header:!0,children:[m.firstName,"\xa0 ",Object(p.jsx)(s.a,{name:"linkify"})," ",N.firstName]})}),Object(p.jsx)(l.a,{attached:"bottom",children:Object(p.jsx)(b.d,{children:y.done?y.idsArr.length>0?y.idsArr.map((function(e){return Object(p.jsx)(b.b,{children:e.map((function(n,t){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(O,{id:n}),e.length-1!==t&&Object(p.jsx)(x,{id:n,refId:e[t+1]})]})}))})})):Object(p.jsx)(u.a,{info:!0,children:"No Relations found"}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(s.a,{name:"circle notched",size:"large",color:"blue",loading:!0})," ","Loading"]})})})]})}function O(e){var n=Object(f.a)().connections.find((function(n){return n.id===e.id}));return n?Object(p.jsx)(b.c,{width:8*"".concat(n.firstName," ").concat(n.lastName).length+50+"px",children:Object(p.jsxs)(d.b,{to:"/add/".concat(n.id),children:[Object(p.jsx)(s.a,{name:"user",size:"large",circular:!0}),"".concat(n.firstName," ").concat(n.lastName)]})}):Object(p.jsx)(p.Fragment,{children:"Couldn't find the person"})}function x(e){var n=Object(f.a)(),t=n.relations,c=n.relationTypes,o=Object(r.useState)({content:"Calculating...",width:"100px"}),d=Object(i.a)(o,2),a=d[0],s=d[1];return Object(r.useEffect)((function(){var n=t.find((function(n){return n.peopleId===e.id&&n.connectedPeopleId===e.refId||n.connectedPeopleId===e.id&&n.peopleId===e.refId})),i=c.find((function(e){return e.value===(null===n||void 0===n?void 0:n.relationType)}));s({content:(null===i||void 0===i?void 0:i.text)||"Unknown",width:i?"".concat(12*(null===i||void 0===i?void 0:i.text.length),"px"):"100px"})}),[t,c,e.id,e.refId]),Object(p.jsx)(b.e,{width:a.width,children:Object(p.jsx)("span",{children:a.content})})}},1703:function(e,n,t){"use strict";t.d(n,"a",(function(){return r}));var c=t(0),i=t(87);function r(){return Object(c.useContext)(i.a)}}}]);
//# sourceMappingURL=9.a023f0f8.chunk.js.map